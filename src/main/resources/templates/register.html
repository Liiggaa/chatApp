<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ChatApp - Register</title>
    <link href="/styles.css" rel="stylesheet">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>
<body>
<main>
  <form  class="reg-form " action="/register" method="post">
    <p class="title">Register</p>
    <div class="grid-container">
    <div class="container">
          <div class="input-box">
            <label for="fullName">Full Name</label>
      <input type="text" name="fullName" id="fullName" required th:value="${user?.getFullName()}"> <!-- fill input values from java code, prefill values-->
      </div>
    <div class="input-box">
      <label for="userName">Username</label>
        <input type="text" name="userName" id="userName" minLength="4" required th:value="${user?.getUserName()}">
    </div>
      <div class="input-box">
        <label for="email">Email</label>
      <input type="email" name="email" id="email" required th:value="${user?.getEmail()}">
      </div>
      <div class="input-box">
      <label for="location">Location</label>
      <input type="text" name="location" id="location"required th:value="${user?.getLocation()}">
      </div>
    </div>
      <div class="container">
      <div class="input-box">
        <label for="dateOfBirth">Date of birth</label>
      <input type="date" name="dateOfBirth" id="dateOfBirth"required th:value="${user?.getDateOfBirth()}" style="height: 38px;">
      </div>
      <div class="input-box">
      <label for="profilePicture">Profile picture url</label>
      <input type="url" name="profilePictureUrl"  id="profilePicture"  th:value="${user?.getProfilePictureUrl()}">
      </div>
      <div class="input-box">
          <label for="password">Password</label>
          <input type="password" name="password" id="password" minlength="8" required pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$" title="Password must contain at least 8 characters, including at least one letter and one number"  th:value="${user?.getPassword()}">
      </div>
          <div class="input-box">
              <label for="confirmPassword">Confirm Password</label>
              <input type="password" name="confirmPassword" id="confirmPassword" minlength="8" required pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$" title="Password must contain at least 8 characters, including at least one letter and one number" th:value="${user?.getConfirmPassword()}">
          </div>
          <div>
              <p class="error-msg" th:if="${message}">
        <span th:if="${message =='signup_failed'}">
          <label  th:if="${error}" th:text="${error}"></label>
        </span>
              </p>
          </div>
      </div>
        </div>
      <button class="reg-btn">Create Account</button>
  </form>
</main>
</body>
</html>